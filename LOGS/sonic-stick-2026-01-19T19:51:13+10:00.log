[2026-01-19T19:51:13+10:00] [INFO] Logging to /home/wizard/Code/sonic-stick/LOGS/sonic-stick-2026-01-19T19:51:13+10:00.log
[2026-01-19T19:51:13+10:00] [INFO] ============================================
[2026-01-19T19:51:13+10:00] [INFO] ============================================
[2026-01-19T19:51:13+10:00] [INFO] Sonic Stick Launcher v1.0.0.6
[2026-01-19T19:51:13+10:00] [INFO] Sonic Stick Launcher v1.0.0.6
[2026-01-19T19:51:13+10:00] [INFO] ============================================
[2026-01-19T19:51:13+10:00] [INFO] ============================================
[2026-01-19T19:51:13+10:00] [INFO] Target USB device: /dev/sdb (override with USB=/dev/sdX)
[2026-01-19T19:51:13+10:00] [INFO] Target USB device: /dev/sdb (override with USB=/dev/sdX)
[2026-01-19T19:51:13+10:00] [INFO] Ventoy version: 1.1.10
[2026-01-19T19:51:13+10:00] [INFO] Ventoy version: 1.1.10
[2026-01-19T19:51:13+10:00] [INFO] Repo: /home/wizard/Code/sonic-stick
[2026-01-19T19:51:13+10:00] [INFO] Repo: /home/wizard/Code/sonic-stick

Select an action:
  1) Download payloads (ISOs, Ventoy, Pi images)
  2) Install/Upgrade Ventoy only
  3) Rebuild from scratch (wipe, copy ISOs, create FLASH)
  4) Verify stick (check structure, config, offer fixes)
  5) Quit

Choice [1-5]: [2026-01-19T19:51:30+10:00] [INFO] ============================================
[2026-01-19T19:51:30+10:00] [INFO] ============================================
[2026-01-19T19:51:30+10:00] [INFO] Rebuild from scratch
[2026-01-19T19:51:30+10:00] [INFO] Rebuild from scratch
[2026-01-19T19:51:30+10:00] [INFO] ============================================
[2026-01-19T19:51:30+10:00] [INFO] ============================================
[2026-01-19T19:51:30+10:00] [INFO] Logging to /home/wizard/Code/sonic-stick/LOGS/sonic-stick-2026-01-19T19:51:13+10:00.log
[2026-01-19T19:51:30+10:00] [INFO] Logging to /home/wizard/Code/sonic-stick/LOGS/sonic-stick-2026-01-19T19:51:13+10:00.log
[2026-01-19T19:51:30+10:00] [INFO] Starting complete rebuild on /dev/sdb
[2026-01-19T19:51:30+10:00] [INFO] Starting complete rebuild on /dev/sdb
[2026-01-19T19:51:30+10:00] [INFO] Starting complete rebuild on /dev/sdb
[2026-01-19T19:51:30+10:00] [INFO] Environment snapshot:
[2026-01-19T19:51:30+10:00] [INFO] Environment snapshot:
[2026-01-19T19:51:30+10:00] [INFO] Environment snapshot:
[2026-01-19T19:51:30+10:00] [INFO] uname: Linux wizard-dell-server 6.8.0-90-generic #91~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Thu Nov 20 15:20:45 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
[2026-01-19T19:51:30+10:00] [INFO] uname: Linux wizard-dell-server 6.8.0-90-generic #91~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Thu Nov 20 15:20:45 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
[2026-01-19T19:51:30+10:00] [INFO] uname: Linux wizard-dell-server 6.8.0-90-generic #91~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Thu Nov 20 15:20:45 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
[2026-01-19T19:51:30+10:00] [INFO] lsblk: NAME     SIZE FSTYPE   LABEL;loop0      4K squashfs ;loop1   74.3M squashfs ;loop2   73.9M squashfs ;loop3  271.2M squashfs ;loop4  251.6M squashfs ;loop5  505.1M squashfs ;loop6  531.4M squashfs ;loop7   91.7M squashfs ;loop8   12.9M squashfs ;loop9   12.2M squashfs ;loop10  38.8M squashfs ;loop11  48.1M squashfs ;loop12   500K squashfs ;loop13   576K squashfs ;sda    238.5G          ;â”œâ”€sda1   512M vfat     ;â””â”€sda2   238G ext4     ;sdb    114.6G          ;â”œâ”€sdb1 110.8G exfat    SONIC;â”œâ”€sdb2    32M vfat     VTOYEFI;â””â”€sdb3   3.8G ext4     FLASH;sr0     1024M          ;
[2026-01-19T19:51:30+10:00] [INFO] lsblk: NAME     SIZE FSTYPE   LABEL;loop0      4K squashfs ;loop1   74.3M squashfs ;loop2   73.9M squashfs ;loop3  271.2M squashfs ;loop4  251.6M squashfs ;loop5  505.1M squashfs ;loop6  531.4M squashfs ;loop7   91.7M squashfs ;loop8   12.9M squashfs ;loop9   12.2M squashfs ;loop10  38.8M squashfs ;loop11  48.1M squashfs ;loop12   500K squashfs ;loop13   576K squashfs ;sda    238.5G          ;â”œâ”€sda1   512M vfat     ;â””â”€sda2   238G ext4     ;sdb    114.6G          ;â”œâ”€sdb1 110.8G exfat    SONIC;â”œâ”€sdb2    32M vfat     VTOYEFI;â””â”€sdb3   3.8G ext4     FLASH;sr0     1024M          ;
[2026-01-19T19:51:30+10:00] [INFO] lsblk: NAME     SIZE FSTYPE   LABEL;loop0      4K squashfs ;loop1   74.3M squashfs ;loop2   73.9M squashfs ;loop3  271.2M squashfs ;loop4  251.6M squashfs ;loop5  505.1M squashfs ;loop6  531.4M squashfs ;loop7   91.7M squashfs ;loop8   12.9M squashfs ;loop9   12.2M squashfs ;loop10  38.8M squashfs ;loop11  48.1M squashfs ;loop12   500K squashfs ;loop13   576K squashfs ;sda    238.5G          ;â”œâ”€sda1   512M vfat     ;â””â”€sda2   238G ext4     ;sdb    114.6G          ;â”œâ”€sdb1 110.8G exfat    SONIC;â”œâ”€sdb2    32M vfat     VTOYEFI;â””â”€sdb3   3.8G ext4     FLASH;sr0     1024M          ;
[2026-01-19T19:51:30+10:00] [INFO] df: Filesystem      Size  Used Avail Mounted on;tmpfs           764M  2.1M  762M /run;/dev/sda2       234G   33G  189G /;tmpfs           3.8G   27M  3.8G /dev/shm;tmpfs           5.0M  4.0K  5.0M /run/lock;efivarfs        256K  102K  150K /sys/firmware/efi/efivars;/dev/sda1       511M  6.1M  505M /boot/efi;tmpfs           764M  112K  764M /run/user/1000;/dev/sdb3       3.7G   56K  3.5G /media/wizard/FLASH;/dev/sdb2        32M   28M  4.6M /media/wizard/VTOYEFI;/dev/sdb1       111G  4.5G  107G /media/wizard/SONIC;
[2026-01-19T19:51:30+10:00] [INFO] df: Filesystem      Size  Used Avail Mounted on;tmpfs           764M  2.1M  762M /run;/dev/sda2       234G   33G  189G /;tmpfs           3.8G   27M  3.8G /dev/shm;tmpfs           5.0M  4.0K  5.0M /run/lock;efivarfs        256K  102K  150K /sys/firmware/efi/efivars;/dev/sda1       511M  6.1M  505M /boot/efi;tmpfs           764M  112K  764M /run/user/1000;/dev/sdb3       3.7G   56K  3.5G /media/wizard/FLASH;/dev/sdb2        32M   28M  4.6M /media/wizard/VTOYEFI;/dev/sdb1       111G  4.5G  107G /media/wizard/SONIC;
[2026-01-19T19:51:30+10:00] [INFO] df: Filesystem      Size  Used Avail Mounted on;tmpfs           764M  2.1M  762M /run;/dev/sda2       234G   33G  189G /;tmpfs           3.8G   27M  3.8G /dev/shm;tmpfs           5.0M  4.0K  5.0M /run/lock;efivarfs        256K  102K  150K /sys/firmware/efi/efivars;/dev/sda1       511M  6.1M  505M /boot/efi;tmpfs           764M  112K  764M /run/user/1000;/dev/sdb3       3.7G   56K  3.5G /media/wizard/FLASH;/dev/sdb2        32M   28M  4.6M /media/wizard/VTOYEFI;/dev/sdb1       111G  4.5G  107G /media/wizard/SONIC;
[H[2J[3J[H[2J[3J[0;35mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—[0m
[0;35mâ•‘         SONIC STICK - COMPLETE REBUILD FROM SCRATCH       â•‘[0m
[0;35mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

[0;35mThis will:[0m
  1. WIPE all data on /dev/sdb
  2. Install fresh Ventoy bootloader
  3. Copy all ISOs with organized structure
  4. Install custom Ventoy menu with organized categories
  5. Relabel main partition to SONIC
  6. Create FLASH partition for logs/tracking (4GB ext4)
  7. Initialize library catalog system

[0;35mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—[0m
[0;35mâ•‘         SONIC STICK - COMPLETE REBUILD FROM SCRATCH       â•‘[0m
[0;35mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

[0;35mThis will:[0m
  1. WIPE all data on /dev/sdb
  2. Install fresh Ventoy bootloader
  3. Copy all ISOs with organized structure
  4. Install custom Ventoy menu with organized categories
  5. Relabel main partition to SONIC
  6. Create FLASH partition for logs/tracking (4GB ext4)
  7. Initialize library catalog system

[0;31mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;31mWARNING: ALL DATA ON /dev/sdb WILL BE PERMANENTLY ERASED![0m
[0;31mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;31mWARNING: ALL DATA ON /dev/sdb WILL BE PERMANENTLY ERASED![0m
[0;31mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

[0;31mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

NAME     SIZE TYPE FSTYPE LABEL   MOUNTPOINT
sdb    114.6G disk                
â”œâ”€sdb1 110.8G part exfat  SONIC   /media/wizard/SONIC
â”œâ”€sdb2    32M part vfat   VTOYEFI /media/wizard/VTOYEFI
â””â”€sdb3   3.8G part ext4   FLASH   /media/wizard/FLASH
NAME     SIZE TYPE FSTYPE LABEL   MOUNTPOINT
sdb    114.6G disk                
â”œâ”€sdb1 110.8G part exfat  SONIC   /media/wizard/SONIC
â”œâ”€sdb2    32M part vfat   VTOYEFI /media/wizard/VTOYEFI
â””â”€sdb3   3.8G part ext4   FLASH   /media/wizard/FLASH

Type 'REBUILD' in capitals to continue: 
Type 'REBUILD' in capitals to continue: 

[0;34m[1/7] Unmounting all partitions on /dev/sdb...[0m
[0;34m[1/7] Unmounting all partitions on /dev/sdb...[0m
  Unmounting /dev/sdb1
  Unmounting /dev/sdb1
  Unmounting /dev/sdb2
  Unmounting /dev/sdb2
  Unmounting /dev/sdb3
  Unmounting /dev/sdb3

[0;34m[2/7] Wiping disk and installing fresh Ventoy...[0m
[1;33mThis will take 30-60 seconds...[0m

[0;34m[2/7] Wiping disk and installing fresh Ventoy...[0m
[1;33mThis will take 30-60 seconds...[0m

  Pre-wiping existing signatures...

  Pre-wiping existing signatures...
/dev/sdb: 8 bytes were erased at offset 0x00000200 (gpt): 45 46 49 20 50 41 52 54
/dev/sdb: 8 bytes were erased at offset 0x1ca63ffe00 (gpt): 45 46 49 20 50 41 52 54
/dev/sdb: 2 bytes were erased at offset 0x000001fe (PMBR): 55 aa
/dev/sdb: calling ioctl to re-read partition table: Success
/dev/sdb: 8 bytes were erased at offset 0x00000200 (gpt): 45 46 49 20 50 41 52 54
/dev/sdb: 8 bytes were erased at offset 0x1ca63ffe00 (gpt): 45 46 49 20 50 41 52 54
/dev/sdb: 2 bytes were erased at offset 0x000001fe (PMBR): 55 aa
/dev/sdb: calling ioctl to re-read partition table: Success
Creating new GPT entries in memory.
GPT data structures destroyed! You may now partition the disk using fdisk or
other utilities.
Creating new GPT entries in memory.
GPT data structures destroyed! You may now partition the disk using fdisk or
other utilities.
Patching Ventoy for better partition detection...
Patching Ventoy for better partition detection...
âœ“ Ventoy patched
âœ“ Ventoy patched


**********************************************
      Ventoy: 1.1.10  x86_64
      longpanda admin@ventoy.net
      https://www.ventoy.net
**********************************************

**********************************************
      Ventoy: 1.1.10  x86_64
      longpanda admin@ventoy.net
      https://www.ventoy.net
**********************************************

Disk : /dev/sdb
Disk : /dev/sdb
Model:  USB  SanDisk 3.2Gen1 (scsi)
Model:  USB  SanDisk 3.2Gen1 (scsi)
Size : 114 GiB
Style: GPT


Size : 114 GiB
Style: GPT


[33mAttention:[0m
[33mYou will install Ventoy to /dev/sdb.[0m
[33mAll the data on the disk /dev/sdb will be lost!!![0m


[33mAll the data on the disk /dev/sdb will be lost!!![0m
[33mAttention:[0m
[33mYou will install Ventoy to /dev/sdb.[0m
[33mAll the data on the disk /dev/sdb will be lost!!![0m


[33mAll the data on the disk /dev/sdb will be lost!!![0m

Create partitions on /dev/sdb by parted in GPT style ...

Create partitions on /dev/sdb by parted in GPT style ...
Done
Wait for partitions ...
Done
Wait for partitions ...
partition exist OK
create efi fat fs /dev/sdb2 ...
partition exist OK
create efi fat fs /dev/sdb2 ...
mkfs.fat 4.2 (2021-01-31)
mkfs.fat 4.2 (2021-01-31)
success
success
Wait for partitions /dev/sdb1 and /dev/sdb2 ...
Wait for partitions /dev/sdb1 and /dev/sdb2 ...
/dev/sdb1 exist OK
/dev/sdb2 exist OK
partition exist OK
/dev/sdb1 exist OK
/dev/sdb2 exist OK
partition exist OK
[32mFormat partition 1 /dev/sdb1 ...[0m
[32mFormat partition 1 /dev/sdb1 ...[0m
mkexfatfs 1.3.0
Creating... mkexfatfs 1.3.0
Creating... done.
Flushing... done.
Flushing... done.
File system created successfully.
done.
File system created successfully.
mkexfatfs success
[32mwriting data to disk ...[0m
mkexfatfs success
[32mwriting data to disk ...[0m
[32msync data ...[0m
[32msync data ...[0m
[32mesp partition processing ...[0m

[32mInstall Ventoy to /dev/sdb successfully finished.[0m

[32mesp partition processing ...[0m

[32mInstall Ventoy to /dev/sdb successfully finished.[0m

[2026-01-19T19:51:47+10:00] [INFO] Ventoy install log: /home/wizard/Code/sonic-stick/LOGS/ventoy-install-2026-01-19T19:51:30+10:00.log
[2026-01-19T19:51:47+10:00] [INFO] Ventoy install log: /home/wizard/Code/sonic-stick/LOGS/ventoy-install-2026-01-19T19:51:30+10:00.log
[2026-01-19T19:51:47+10:00] [INFO] Ventoy install log: /home/wizard/Code/sonic-stick/LOGS/ventoy-install-2026-01-19T19:51:30+10:00.log
Forcing kernel partition table reread...
Forcing kernel partition table reread...
Verifying partition table...
Verifying partition table...
Waiting for partition device nodes to appear...
Waiting for partition device nodes to appear...
Waiting for /dev/sdb1 and /dev/sdb2 (max 60s)...
Waiting for /dev/sdb1 and /dev/sdb2 (max 60s)...
âœ“ Partitions detected: /dev/sdb1 and /dev/sdb2
âœ“ Partitions detected: /dev/sdb1 and /dev/sdb2
Detecting Ventoy partitions...
Detecting Ventoy partitions...
[2026-01-19T19:51:54+10:00] [ERROR] Command failed (exit 1) at line 318: return 1
[2026-01-19T19:51:54+10:00] [ERROR] Command failed (exit 1) at line 318: return 1
[2026-01-19T19:51:54+10:00] [ERROR] Command failed (exit 1) at line 318: return 1
[2026-01-19T19:51:54+10:00] [ERROR] Command failed (exit 1) at line 318: SONIC_PART=$(detect_sonic_partition "$USB")
[2026-01-19T19:51:54+10:00] [ERROR] Command failed (exit 1) at line 318: SONIC_PART=$(detect_sonic_partition "$USB")
[2026-01-19T19:51:54+10:00] [ERROR] Command failed (exit 1) at line 318: SONIC_PART=$(detect_sonic_partition "$USB")
[2026-01-19T19:51:54+10:00] [WARN] Rebuild failed or cancelled
[2026-01-19T19:51:54+10:00] [WARN] Rebuild failed or cancelled
Press Enter to continue...
Select an action:
  1) Download payloads (ISOs, Ventoy, Pi images)
  2) Install/Upgrade Ventoy only
  3) Rebuild from scratch (wipe, copy ISOs, create FLASH)
  4) Verify stick (check structure, config, offer fixes)
  5) Quit

Choice [1-5]: [2026-01-19T19:53:04+10:00] [OK] Done
[2026-01-19T19:53:04+10:00] [OK] Done
